<!DOCTYPE html>
<html>
  <head>
    <title>Cinder</title>
    <script type="text/javascript" src="../lib/jquery-1.7.1.min.js"></script>
    <script type="text/javascript" src="../lib/jquery-ui-1.8.18.custom.min.js"></script>
    <script type="text/javascript" src="../lib/ember.js"></script>
    <script type="text/javascript" src="../lib/cinder.js"></script>
    <LINK REL=StyleSheet HREF="../css/jquery-ui-1.8.18.custom.css" TYPE="text/css" MEDIA=screen>
    <LINK REL=StyleSheet HREF="../css/examples.css" TYPE="text/css" MEDIA=screen>
  </head>
    <body>
      <button id="hello">Hello</button>
      <button id="world">World</button>
      <br/>

      <script language="javascript">

        $("#hello").click(function(){
          new_val = App.progress.get('value') + 10;
          App.progress.set('value', new_val);
          App.inverseprogress.set('value', 100 - new_val);
        });
        $("#world").click(function(){
          App.myImportantDate.set('value', '01/01/2012');
          App.myAccordion.set('content', App.spirits);
          App.myTabs.set('value', App.spirits);
        });

        $("#todos").append('<h6><a href="#">Section 4</a></h6><div id="todos-4">Hello Check 4</div>');
        $("#todos").accordion({
          autoHeight: false,
          collapsible: true,
          active: -1,
          change: function(event, ui) {
            console.log('\n' + event.data + '\n');
          }
        });

        $("#todos").bind("accordionchange", function(event, ui){
          console.log($(ui.newContent).attr('id'));
        });

        var App = Ember.Application.create();
        App.progress = Em.Object.create({'value' : 50});
        App.slider = Em.Object.create({'value': 30});
        App.inverseprogress = Em.Object.create({'value' : 50});
        App.myImportantDate = Em.Object.create({'value' : '03/12/2012'});

        App.progressBarView = Cinder.ProgressBarView.extend({
          complete: function(event, ui) {
            console.log('Progress Bar complete');
          }
        });
        App.inverseprogressBarView = Cinder.ProgressBarView.extend({
        });
        App.datePickerView = Cinder.DatePickerView.extend({
          onClose: function(dateText, inst) {
            console.log('Date = ' + dateText + ' this = ' + this);
          },
          changeYear: true,
          changeMonth: true,
          onChangeMonthYear: function(year, month, inst) {
            console.log('CHANGED ' + year + ' ' + month);
          }
        });

        App.TextField = Em.TextField.extend({
          valueBinding: 'App.myImportantDate',
          insertNewline: function() {
            console('Submitted: ' + App.myImportantDate.get('value'));
          }
        });

        App.isDone = false;
        App.isDoneLabel = 'Hello';

        App.accordionView = Cinder.AccordionView.extend({
          onChange: function(event, ui) {
            console.log($(ui.newHeader).text());
            console.log($(ui.newContent).text());
          }
        });

        App.sliderView = Cinder.SliderView.extend({
          stop: function(event, slider) {
            console.log('Slider changed to ' + slider.value);
          }
        });

        App.veggies = [['Fruits', 'Apples Bananas'],['Vegetables', 'Asparagus Broccoli']];
        App.spirits = [['Scotch', 'GlenLivet GlenFiddich'], ['Bourbon', 'WildTurkey JimBean Makers Mark']];
        App.myAccordion = Ember.ArrayController.create({'content' : App.veggies});
        App.myTabs = Em.Object.create({'value' : App.veggies}); 
        App.myCurTab = Em.Object.create({'value' : 0}); 
      </script>

      <script type="text/x-handlebars">
        {{view App.progressBarView valueObjectBinding="App.progress" class="todos-progress-bar"}}
        {{view App.inverseprogressBarView valueObjectBinding="App.inverseprogress" class="todos-progress-bar"}}
        {{view App.inverseprogressBarView valueObjectBinding="App.inverseprogress" class="todos-progress-bar-small"}}
        {{view App.datePickerView valueObjectBinding="App.myImportantDate" class="date-field"}}

        {{App.myImportantDate.value}}

        {{view Ember.Checkbox titleBinding="App.isDoneLabel" valueBinding="App.isDone"}}
        {{App.isDone}}

        {{view App.accordionView valueObjectBinding="App.myAccordion" header="h2" class="myaccordion" collapsible=true autoHeight=true animated="bounceslide"}}
        <br/>
        {{view Cinder.AccordionView valueObjectBinding="App.myAccordion" header="h2" class="myaccordion" collapsible=true autoHeight=true animated="bounceslide"}}
        <br/>
        {{view App.sliderView valueObjectBinding="App.slider" class="slider"}}
        {{view Cinder.SliderView valueObjectBinding="App.slider" id="vertical-slider" orientation="vertical"}}
        <div id="slider-text-value">
          {{App.slider.value}}
        </div>
        {{view App.sliderView valueObjectBinding="App.slider" class="slider"}}
        <br/>
        {{view Cinder.TabsView contentBinding="App.myTabs" curTabBinding="App.myCurTab" id="my-tabs"}}
        <br/>
      </script>
      <button id="sel-tab-2">Select Tab 2</button>
      <script language="javascript">
        $("#sel-tab-2").click(function(){
          console.log('HDD - setting tab = 1');
          App.myCurTab.set('value', 1);
        });
      </script>
    </body>
    </html>
